CREATE TABLE BOOKS(
	BOOK_ID INT PRIMARY KEY,
	BOOK_NAME VARCHAR(20) NOT NULL,
	AUTHOR_NAME VARCHAR(20) NOT NULL
)

SELECT * FROM BOOKS

SELECT * FROM BOOKS

INSERT INTO BOOKS VALUES(3, 'THE HOBBIT', 'J.R.R TOLKIEN')

CREATE TABLE LIBRARY_VISITORS(
	USER_ID INT PRIMARY KEY,
	NAME VARCHAR(20) NOT NULL,
	AGE INT CHECK(AGE>=18) NOT NULL,
	EMAIL VARCHAR(30) NOT NULL UNIQUE
)

SELECT * FROM LIBRARY_VISITORS

INSERT INTO LIBRARY_VISITORS(USER_ID,NAME,AGE,EMAIL)
VALUES(601, 'Priya Singh', 22, 'priya.singh@gmail.com')

INSERT INTO LIBRARY_VISITORS VALUES(602, 'Rahul Kumar', 21, 'rahul.k2024@gmail.com')

INSERT INTO LIBRARY_VISITORS VALUES(24bai70081, 'Srijan Tripathi', 20, 'srijan.tripathi@gmail.com')

CREATE TABLE BOOK_ISSUE(
	BOOK_ISSUE_ID INT PRIMARY KEY,
	USER_ID INT REFERENCES LIBRARY_VISITORS(USER_ID),
	BOOK_ID INT NOT NULL,
	FOREIGN KEY(BOOK_ID) REFERENCES BOOKS(BOOK_ID)
)

SELECT * FROM BOOK_ISSUE

INSERT INTO BOOK_ISSUE VALUES(201, 601, 3)

CREATE ROLE ADMIN_LIBRARIAN 
WITH LOGIN PASSWORD 'Secure@2026'

SELECT CURRENT_USER

GRANT SELECT,INSERT,DELETE,UPDATE ON BOOKS TO ADMIN_LIBRARIAN

REVOKE SELECT,INSERT,DELETE,UPDATE ON BOOKS FROM ADMIN_LIBRARIAN

SELECT * FROM BOOKS

SELECT * FROM LIBRARY_VISITORS

SELECT * FROM BOOK_ISSUE
